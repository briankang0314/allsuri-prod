/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){r=function(){return n};var t,n={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),c=new C(n||[]);return a(i,"_invoke",{value:I(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var d="suspendedStart",y="suspendedYield",g="executing",v="completed",m={};function w(){}function b(){}function E(){}var x={};f(x,s,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(N([])));L&&L!==o&&i.call(L,s)&&(x=L);var S=E.prototype=w.prototype=Object.create(x);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,r){function n(o,a,c,s){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==e(f)&&i.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):r.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,s)}))}s(u.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}})}function I(e,r,n){var o=d;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=j(c,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function N(r){if(r||""===r){var n=r[s];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function e(){for(;++o<r.length;)if(i.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return b.prototype=E,a(S,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},n.awrap=function(t){return{__await:t}},_(O.prototype),f(O.prototype,u,(function(){return this})),n.AsyncIterator=O,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new O(h(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),f(S,l,"Generator"),f(S,s,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},n}function n(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function o(){return i.apply(this,arguments)}function i(){var t;return t=r().mark((function t(){var e,n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=/iP(ad|od|hone)/i.test(navigator.userAgent)&&!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),n=e?"iphone_install":"android_install",(o=document.getElementById(n))&&(o.style.display="block");case 4:case"end":return t.stop()}}),t)})),i=function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,s,"next",t)}function s(t){n(a,o,i,c,s,"throw",t)}c(void 0)}))},i.apply(this,arguments)}function a(t){s(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,"#ff6b6b")}function c(t){s(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,"#28a745")}function s(t,e,r){var n=document.createElement("div");n.style.cssText="\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background-color: ".concat(r,";\n        color: white;\n        padding: 15px 25px;\n        border-radius: 5px;\n        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n        z-index: 10000;\n        transition: opacity 0.5s ease-in-out;\n        text-align: center;\n        max-width: 80%;\n    ");var o=document.createElement("p");o.style.margin="0",o.style.fontSize="16px",o.style.lineHeight="1.4",o.textContent=t,n.appendChild(o),document.body.appendChild(n),setTimeout((function(){n.style.opacity="0",setTimeout((function(){document.body.contains(n)&&document.body.removeChild(n)}),500)}),e)}function u(t){var e=new Date(t),r=new Date,n=Math.abs(r-e)/864e5;return n<1?"오늘":n>=1&&n<2?"어제":"".concat(Math.ceil(n),"일 전")}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const l=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=63&o|128):55296==(64512&o)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=63&o|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=63&o|128)}return e},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const o=t[e],i=e+1<t.length,a=i?t[e+1]:0,c=e+2<t.length,s=c?t[e+2]:0,u=o>>2,l=(3&o)<<4|a>>4;let f=(15&a)<<2|s>>6,h=63&s;c||(h=64,i||(f=64)),n.push(r[u],r[l],r[f],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let r=0,n=0;for(;r<t.length;){const o=t[r++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[r++];e[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;e[n++]=String.fromCharCode(55296+(i>>10)),e[n++]=String.fromCharCode(56320+(1023&i))}else{const i=t[r++],a=t[r++];e[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const o=r[t.charAt(e++)],i=e<t.length?r[t.charAt(e)]:0;++e;const a=e<t.length?r[t.charAt(e)]:64;++e;const c=e<t.length?r[t.charAt(e)]:64;if(++e,null==o||null==i||null==a||null==c)throw new h;const s=o<<2|i>>4;if(n.push(s),64!==a){const t=i<<4&240|a>>2;if(n.push(t),64!==c){const t=a<<6&192|c;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(t){return function(t){const e=l(t);return f.encodeByteArray(e,!0)}(t).replace(/\./g,"")},d=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return f.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},y=()=>{var t;return null===(t=d())||void 0===t?void 0:t.config};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,r))}}}function v(){try{return"object"==typeof indexedDB}catch(t){return!1}}function m(){return new Promise(((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class w extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b.prototype.create)}}class b{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},n=`${this.service}/${t}`,o=this.errors[t],i=o?function(t,e){return t.replace(E,((t,r)=>{const n=e[r];return null!=n?String(n):`<${r}?>`}))}(o,r):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new w(n,a,r)}}const E=/\{\$([^}]+)}/g;function x(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const o of r){if(!n.includes(o))return!1;const r=t[o],i=e[o];if(k(r)&&k(i)){if(!x(r,i))return!1}else if(r!==i)return!1}for(const t of n)if(!r.includes(t))return!1;return!0}function k(t){return null!==t&&"object"==typeof t}function L(t){return t&&t._delegate?t._delegate:t}class S{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _="[DEFAULT]";class O{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&t.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(t){if(n)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:_})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});e.resolve(t)}catch(t){}}}}clearInstance(t=_){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=_){return this.instances.has(t)}getOptions(t=_){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[t,e]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(t)&&e.resolve(n);return n}onInit(t,e){var r;const n=this.normalizeInstanceIdentifier(e),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(n,o);const i=this.instances.get(n);return i&&t(i,n),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const n of r)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===_?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(t){}var n;return r||null}normalizeInstanceIdentifier(t=_){return this.component?this.component.multipleInstances?t:_:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class I{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new O(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const j=[];var T;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(T||(T={}));const P={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},C=T.INFO,N={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},D=(t,e,...r)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),o=N[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${n}]  ${t.name}:`,...r)};let A,B;const F=new WeakMap,M=new WeakMap,G=new WeakMap,R=new WeakMap,H=new WeakMap;let $={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return M.get(t);if("objectStoreNames"===e)return t.objectStoreNames||G.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return V(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function K(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(z(this),t),V(F.get(this))}:function(...t){return V(e.apply(z(this),t))}:function(t,...r){const n=e.call(z(this),t,...r);return G.set(n,t.sort?t.sort():[t]),V(n)}:(t instanceof IDBTransaction&&function(t){if(M.has(t))return;const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));M.set(t,e)}(t),r=t,(A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>r instanceof t))?new Proxy(t,$):t);var e,r}function V(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(V(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&F.set(e,t)})).catch((()=>{})),H.set(e,t),e}(t);if(R.has(t))return R.get(t);const e=K(t);return e!==t&&(R.set(t,e),H.set(e,t)),e}const z=t=>H.get(t);function U(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),c=V(a);return n&&a.addEventListener("upgradeneeded",(t=>{n(V(a.result),t.oldVersion,t.newVersion,V(a.transaction),t)})),r&&a.addEventListener("blocked",(t=>r(t.oldVersion,t.newVersion,t))),c.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),c}function q(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",(t=>e(t.oldVersion,t))),V(r).then((()=>{}))}const W=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],Y=new Map;function Q(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Y.get(e))return Y.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=J.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!W.includes(r))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[r](...e),o&&i.done]))[0]};return Y.set(e,i),i}var Z;Z=$,$={...Z,get:(t,e,r)=>Q(t,e)||Z.get(t,e,r),has:(t,e)=>!!Q(t,e)||Z.has(t,e)};class X{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const tt="@firebase/app",et="0.10.11",rt=new class{constructor(t){this.name=t,this._logLevel=C,this._logHandler=D,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in T))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?P[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...t),this._logHandler(this,T.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...t),this._logHandler(this,T.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,T.INFO,...t),this._logHandler(this,T.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,T.WARN,...t),this._logHandler(this,T.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...t),this._logHandler(this,T.ERROR,...t)}}("@firebase/app"),nt="@firebase/app-compat",ot="@firebase/analytics-compat",it="@firebase/analytics",at="@firebase/app-check-compat",ct="@firebase/app-check",st="@firebase/auth",ut="@firebase/auth-compat",lt="@firebase/database",ft="@firebase/database-compat",ht="@firebase/functions",pt="@firebase/functions-compat",dt="@firebase/installations",yt="@firebase/installations-compat",gt="@firebase/messaging",vt="@firebase/messaging-compat",mt="@firebase/performance",wt="@firebase/performance-compat",bt="@firebase/remote-config",Et="@firebase/remote-config-compat",xt="@firebase/storage",kt="@firebase/storage-compat",Lt="@firebase/firestore",St="@firebase/vertexai-preview",_t="@firebase/firestore-compat",Ot="firebase",It="[DEFAULT]",jt={[tt]:"fire-core",[nt]:"fire-core-compat",[it]:"fire-analytics",[ot]:"fire-analytics-compat",[ct]:"fire-app-check",[at]:"fire-app-check-compat",[st]:"fire-auth",[ut]:"fire-auth-compat",[lt]:"fire-rtdb",[ft]:"fire-rtdb-compat",[ht]:"fire-fn",[pt]:"fire-fn-compat",[dt]:"fire-iid",[yt]:"fire-iid-compat",[gt]:"fire-fcm",[vt]:"fire-fcm-compat",[mt]:"fire-perf",[wt]:"fire-perf-compat",[bt]:"fire-rc",[Et]:"fire-rc-compat",[xt]:"fire-gcs",[kt]:"fire-gcs-compat",[Lt]:"fire-fst",[_t]:"fire-fst-compat",[St]:"fire-vertex","fire-js":"fire-js",[Ot]:"fire-js-all"},Tt=new Map,Pt=new Map,Ct=new Map;function Nt(t,e){try{t.container.addComponent(e)}catch(r){rt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Dt(t){const e=t.name;if(Ct.has(e))return rt.debug(`There were multiple attempts to register component ${e}.`),!1;Ct.set(e,t);for(const e of Tt.values())Nt(e,t);for(const e of Pt.values())Nt(e,t);return!0}function At(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}const Bt=new b("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ft{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new S("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}function Mt(t,e={}){let r=t;"object"!=typeof e&&(e={name:e});const n=Object.assign({name:It,automaticDataCollectionEnabled:!1},e),o=n.name;if("string"!=typeof o||!o)throw Bt.create("bad-app-name",{appName:String(o)});if(r||(r=y()),!r)throw Bt.create("no-options");const i=Tt.get(o);if(i){if(x(r,i.options)&&x(n,i.config))return i;throw Bt.create("duplicate-app",{appName:o})}const a=new I(o);for(const t of Ct.values())a.addComponent(t);const c=new Ft(r,n,a);return Tt.set(o,c),c}function Gt(t,e,r){var n;let o=null!==(n=jt[t])&&void 0!==n?n:t;r&&(o+=`-${r}`);const i=o.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const t=[`Unable to register library "${o}" with version "${e}":`];return i&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void rt.warn(t.join(" "))}Dt(new S(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}const Rt="firebase-heartbeat-store";let Ht=null;function $t(){return Ht||(Ht=U("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Rt)}catch(t){console.warn(t)}}}).catch((t=>{throw Bt.create("idb-open",{originalErrorMessage:t.message})}))),Ht}async function Kt(t,e){try{const r=(await $t()).transaction(Rt,"readwrite"),n=r.objectStore(Rt);await n.put(e,Vt(t)),await r.done}catch(t){if(t instanceof w)rt.warn(t.message);else{const e=Bt.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});rt.warn(e.message)}}}function Vt(t){return`${t.name}!${t.options.appId}`}class zt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new qt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Ut();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(t){rt.warn(t)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ut(),{heartbeatsToSend:r,unsentEntries:n}=function(t,e=1024){const r=[];let n=t.slice();for(const o of t){const t=r.find((t=>t.agent===o.agent));if(t){if(t.dates.push(o.date),Wt(r)>e){t.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Wt(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=p(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rt.warn(t),""}}}function Ut(){return(new Date).toISOString().substring(0,10)}class qt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!v()&&m().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await $t()).transaction(Rt),r=await e.objectStore(Rt).get(Vt(t));return await e.done,r}catch(t){if(t instanceof w)rt.warn(t.message);else{const e=Bt.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});rt.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}}}function Wt(t){return p(JSON.stringify({version:2,heartbeats:t})).length}Dt(new S("platform-logger",(t=>new X(t)),"PRIVATE")),Dt(new S("heartbeat",(t=>new zt(t)),"PRIVATE")),Gt(tt,et,""),Gt(tt,et,"esm2017"),Gt("fire-js",""),Gt("firebase","10.13.2","app");const Jt="@firebase/installations",Yt="0.6.9",Qt=`w:${Yt}`,Zt="FIS_v2",Xt=new b("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function te(t){return t instanceof w&&t.code.includes("request-failed")}function ee({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function re(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function ne(t,e){const r=(await e.json()).error;return Xt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function oe({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function ie(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ae(t){return new Promise((e=>{setTimeout(e,t)}))}const ce=/^[cdef][\w-]{21}$/;function se(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){var e;return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(t);return ce.test(e)?e:""}catch(t){return""}}function ue(t){return`${t.appName}!${t.appId}`}const le=new Map;function fe(t,e){const r=ue(t);he(r,e),function(t,e){const r=(!pe&&"BroadcastChannel"in self&&(pe=new BroadcastChannel("[Firebase] FID Change"),pe.onmessage=t=>{he(t.data.key,t.data.fid)}),pe);r&&r.postMessage({key:t,fid:e}),0===le.size&&pe&&(pe.close(),pe=null)}(r,e)}function he(t,e){const r=le.get(t);if(r)for(const t of r)t(e)}let pe=null;const de="firebase-installations-store";let ye=null;function ge(){return ye||(ye=U("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(de)}})),ye}async function ve(t,e){const r=ue(t),n=(await ge()).transaction(de,"readwrite"),o=n.objectStore(de),i=await o.get(r);return await o.put(e,r),await n.done,i&&i.fid===e.fid||fe(t,e.fid),e}async function me(t){const e=ue(t),r=(await ge()).transaction(de,"readwrite");await r.objectStore(de).delete(e),await r.done}async function we(t,e){const r=ue(t),n=(await ge()).transaction(de,"readwrite"),o=n.objectStore(de),i=await o.get(r),a=e(i);return void 0===a?await o.delete(r):await o.put(a,r),await n.done,!a||i&&i.fid===a.fid||fe(t,a.fid),a}async function be(t){let e;const r=await we(t.appConfig,(r=>{const n=function(t){return ke(t||{fid:se(),registrationStatus:0})}(r),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xt.create("app-offline"))};const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(t,e){try{const r=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=ee(t),o=oe(t),i=e.getImmediate({optional:!0});if(i){const t=await i.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const a={fid:r,authVersion:Zt,appId:t.appId,sdkVersion:Qt},c={method:"POST",headers:o,body:JSON.stringify(a)},s=await ie((()=>fetch(n,c)));if(s.ok){const t=await s.json();return{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:re(t.authToken)}}throw await ne("Create Installation",s)}(t,e);return ve(t.appConfig,r)}catch(r){throw te(r)&&409===r.customData.serverCode?await me(t.appConfig):await ve(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}(t,r);return{installationEntry:r,registrationPromise:n}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ee(t)}:{installationEntry:e}}(t,n);return e=o.registrationPromise,o.installationEntry}));return""===r.fid?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}async function Ee(t){let e=await xe(t.appConfig);for(;1===e.registrationStatus;)await ae(100),e=await xe(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:r}=await be(t);return r||e}return e}function xe(t){return we(t,(t=>{if(!t)throw Xt.create("installation-not-found");return ke(t)}))}function ke(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Le({appConfig:t,heartbeatServiceProvider:e},r){const n=function(t,{fid:e}){return`${ee(t)}/${e}/authTokens:generate`}(t,r),o=function(t,{refreshToken:e}){const r=oe(t);return r.append("Authorization",function(t){return`${Zt} ${t}`}(e)),r}(t,r),i=e.getImmediate({optional:!0});if(i){const t=await i.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const a={installation:{sdkVersion:Qt,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(a)},s=await ie((()=>fetch(n,c)));if(s.ok)return re(await s.json());throw await ne("Generate Auth Token",s)}async function Se(t,e=!1){let r;const n=await we(t.appConfig,(n=>{if(!Oe(n))throw Xt.create("not-registered");const o=n.authToken;if(!e&&(2===(i=o).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i)))return n;var i;if(1===o.requestStatus)return r=async function(t,e){let r=await _e(t.appConfig);for(;1===r.authToken.requestStatus;)await ae(100),r=await _e(t.appConfig);const n=r.authToken;return 0===n.requestStatus?Se(t,e):n}(t,e),n;{if(!navigator.onLine)throw Xt.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(n);return r=async function(t,e){try{const r=await Le(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ve(t.appConfig,n),r}catch(r){if(!te(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ve(t.appConfig,r)}else await me(t.appConfig);throw r}}(t,e),e}}));return r?await r:n.authToken}function _e(t){return we(t,(t=>{if(!Oe(t))throw Xt.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e}))}function Oe(t){return void 0!==t&&2===t.registrationStatus}function Ie(t){return Xt.create("missing-app-config-values",{valueName:t})}const je="installations";Dt(new S(je,(t=>{const e=t.getProvider("app").getImmediate(),r=function(t){if(!t||!t.options)throw Ie("App Configuration");if(!t.name)throw Ie("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ie(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:r,heartbeatServiceProvider:At(e,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Dt(new S("installations-internal",(t=>{const e=At(t.getProvider("app").getImmediate(),je).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:r,registrationPromise:n}=await be(e);return n?n.catch(console.error):Se(e).catch(console.error),r.fid}(e),getToken:t=>async function(t,e=!1){const r=t;return await async function(t){const{registrationPromise:e}=await be(t);e&&await e}(r),(await Se(r,e)).token}(e,t)}}),"PRIVATE")),Gt(Jt,Yt),Gt(Jt,Yt,"esm2017");const Te="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pe="google.c.a.c_id";var Ce,Ne;function De(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ae(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(e),n=new Uint8Array(r.length);for(let t=0;t<r.length;++t)n[t]=r.charCodeAt(t);return n}!function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ce||(Ce={})),function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Ne||(Ne={}));const Be="fcm_token_details_db",Fe="fcm_token_object_Store",Me="firebase-messaging-store";let Ge=null;function Re(){return Ge||(Ge=U("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Me)}})),Ge}async function He(t,e){const r=$e(t),n=(await Re()).transaction(Me,"readwrite");return await n.objectStore(Me).put(e,r),await n.done,e}function $e({appConfig:t}){return t.appId}const Ke=new b("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ve({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function ze({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Ue({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const o={web:{endpoint:r,auth:e,p256dh:t}};return n!==Te&&(o.web.applicationPubKey=n),o}async function qe(t){const e=await async function(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ae(e)})}(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:De(e.getKey("auth")),p256dh:De(e.getKey("p256dh"))},n=await async function(t){const e=$e(t),r=await Re(),n=await r.transaction(Me).objectStore(Me).get(e);if(n)return n;{const e=await async function(t){if("databases"in indexedDB){const t=(await indexedDB.databases()).map((t=>t.name));if(!t.includes(Be))return null}let e=null;return(await U(Be,5,{upgrade:async(r,n,o,i)=>{var a;if(n<2)return;if(!r.objectStoreNames.contains(Fe))return;const c=i.objectStore(Fe),s=await c.index("fcmSenderId").get(t);if(await c.clear(),s)if(2===n){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(a=t.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:De(t.vapidKey)}}}else if(3===n){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:De(t.auth),p256dh:De(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:De(t.vapidKey)}}}else if(4===n){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:De(t.auth),p256dh:De(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:De(t.vapidKey)}}}}})).close(),await q(Be),await q("fcm_vapid_details_db"),await q("undefined"),function(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null}(t.appConfig.senderId);if(e)return await He(t,e),e}}(t.firebaseDependencies);if(n){if(function(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,o=e.auth===t.auth,i=e.p256dh===t.p256dh;return r&&n&&o&&i}(n.subscriptionOptions,r))return Date.now()>=n.createTime+6048e5?async function(t,e){try{const r=await async function(t,e){const r=await ze(t),n=Ue(e.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{const r=await fetch(`${Ve(t.appConfig)}/${e.token}`,o);i=await r.json()}catch(t){throw Ke.create("token-update-failed",{errorInfo:null==t?void 0:t.toString()})}if(i.error){const t=i.error.message;throw Ke.create("token-update-failed",{errorInfo:t})}if(!i.token)throw Ke.create("token-update-no-token");return i.token}(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await He(t.firebaseDependencies,n),r}catch(t){throw t}}(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await async function(t,e){const r={method:"DELETE",headers:await ze(t)};try{const n=await fetch(`${Ve(t.appConfig)}/${e}`,r),o=await n.json();if(o.error){const t=o.error.message;throw Ke.create("token-unsubscribe-failed",{errorInfo:t})}}catch(t){throw Ke.create("token-unsubscribe-failed",{errorInfo:null==t?void 0:t.toString()})}}(t.firebaseDependencies,n.token)}catch(t){console.warn(t)}return We(t.firebaseDependencies,r)}return We(t.firebaseDependencies,r)}async function We(t,e){const r=await async function(t,e){const r=await ze(t),n=Ue(e),o={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{const e=await fetch(Ve(t.appConfig),o);i=await e.json()}catch(t){throw Ke.create("token-subscribe-failed",{errorInfo:null==t?void 0:t.toString()})}if(i.error){const t=i.error.message;throw Ke.create("token-subscribe-failed",{errorInfo:t})}if(!i.token)throw Ke.create("token-subscribe-no-token");return i.token}(t,e),n={token:r,createTime:Date.now(),subscriptionOptions:e};return await He(t,n),n.token}function Je(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const o=e.notification.image;o&&(t.notification.image=o);const i=e.notification.icon;i&&(t.notification.icon=i)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){var r,n,o,i,a;if(!e.fcmOptions&&!(null===(r=e.notification)||void 0===r?void 0:r.click_action))return;t.fcmOptions={};const c=null!==(o=null===(n=e.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==o?o:null===(i=e.notification)||void 0===i?void 0:i.click_action;c&&(t.fcmOptions.link=c);const s=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;s&&(t.fcmOptions.analyticsLabel=s)}(e,t),e}function Ye(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}function Qe(t){return Ke.create("missing-app-config-values",{valueName:t})}Ye("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ye("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ze{constructor(t,e,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=function(t){if(!t||!t.options)throw Qe("App Configuration Object");if(!t.name)throw Qe("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const t of e)if(!r[t])throw Qe(t);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:n,installations:e,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function Xe(t,e){if(!navigator)throw Ke.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Ke.create("permission-blocked");return await async function(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Te)}(t,null==e?void 0:e.vapidKey),await async function(t,e){if(e||t.swRegistration||await async function(t){try{t.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),t.swRegistration.update().catch((()=>{}))}catch(t){throw Ke.create("failed-service-worker-registration",{browserErrorMessage:null==t?void 0:t.message})}}(t),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");t.swRegistration=e}}(t,null==e?void 0:e.serviceWorkerRegistration),qe(t)}async function tr(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Ne.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Je(r)):t.onMessageHandler.next(Je(r)));const n=r.data;var o;"object"==typeof(o=n)&&o&&Pe in o&&"1"===n["google.c.a.e"]&&await async function(t,e,r){const n=function(t){switch(t){case Ne.NOTIFICATION_CLICKED:return"notification_open";case Ne.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[Pe],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}(t,r.messageType,n)}const er="@firebase/messaging",rr="0.12.11";function nr(t=function(t=It){const e=Tt.get(t);if(!e&&t===It&&y())return Mt();if(!e)throw Bt.create("no-app",{appName:t});return e}()){return async function(){try{await m()}catch(t){return!1}return"undefined"!=typeof window&&v()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then((t=>{if(!t)throw Ke.create("unsupported-browser")}),(t=>{throw Ke.create("indexed-db-unsupported")})),At(L(t),"messaging").getImmediate()}async function or(t,e){return Xe(t=L(t),e)}function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ar(){ar=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==ir(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ir(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function cr(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function sr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){cr(i,n,o,a,c,"next",t)}function c(t){cr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ur(){return lr.apply(this,arguments)}function lr(){return(lr=sr(ar().mark((function t(){var e;return ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("DeviceToken")){t.next=12;break}return t.prev=2,t.next=5,fr();case 5:e=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error("Failed to get new device token:",t.t0),t.abrupt("return",null);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function fr(){return hr.apply(this,arguments)}function hr(){return(hr=sr(ar().mark((function t(){var e,r;return ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={apiKey:"AIzaSyC31o_5NeICP4lmMM-siuiL0FpnT2bxHxc",authDomain:"allsuri-test-e2c8f.firebaseapp.com",projectId:"allsuri-test-e2c8f",storageBucket:"allsuri-test-e2c8f.appspot.com",messagingSenderId:"1018254528358",appId:"1:1018254528358:web:e76064107baac031b982a7",measurementId:"G-GL43C8EQCL"},t.prev=2,t.next=5,or(nr(Mt(e)),{firebaseVapidKey:"BCqZ54Dgg6pEqMHIIRrS1zm5x-frIlYikBsFb6mKiS_p1P7gkUI9HVmRKFU7-ANI6zxiR6zUWC8uRtzndJvufWk"});case 5:if(!(r=t.sent)){t.next=12;break}return localStorage.setItem("DeviceToken",r),console.log("New device token obtained and saved"),t.abrupt("return",r);case 12:throw new Error("Failed to obtain new device token");case 13:t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(2),console.error("Error saving device token:",t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[2,15]])})))).apply(this,arguments)}function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function dr(){dr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==pr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pr(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function yr(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function gr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yr(i,n,o,a,c,"next",t)}function c(t){yr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function vr(){return mr.apply(this,arguments)}function mr(){return(mr=gr(dr().mark((function t(){var e,r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("default").style.display="none",document.getElementById("denied").style.display="none",t.t0=Notification.permission,t.next="default"===t.t0?5:"denied"===t.t0?9:"granted"===t.t0?13:31;break;case 5:return document.getElementById("default").style.display="block",(e=document.getElementById("button_notification_allow"))&&e.addEventListener("click",gr(dr().mark((function t(){var r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Notification.requestPermission();case 3:if("granted"!==t.sent){t.next=14;break}return console.log("Notification permission granted"),e.style.display="none",(r=document.getElementById("device_token"))&&(r.style.display="block"),t.next=11,fr();case 11:setTimeout((function(){c("알림 설정이 완료되었습니다. 로그인 해주세요."),vn("login")}),2e3),t.next=17;break;case 14:console.log("Notification permission denied"),document.getElementById("default").style.display="none",document.getElementById("denied").style.display="block";case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),console.error("Error requesting notification permission:",t.t0),a("알림 권한 요청 중 오류가 발생했습니다. 다시 시도해주세요.");case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))),t.abrupt("break",31);case 9:return document.getElementById("denied").style.display="block",(r=document.getElementById("retry-button"))&&r.addEventListener("click",(function(){window.location.reload()})),t.abrupt("break",31);case 13:if(localStorage.getItem("DeviceToken")){t.next=28;break}return t.prev=15,t.next=18,fr();case 18:c("알림 설정이 완료되었습니다. 로그인 해주세요."),setTimeout((function(){vn("login")}),2e3),t.next=26;break;case 22:t.prev=22,t.t1=t.catch(15),console.error("Error saving device token:",t.t1),a("디바이스 토큰 저장 중 오류가 발생했습니다. 다시 시도해주세요.");case 26:t.next=30;break;case 28:c("알림 권한이 허용되어 있습니다."),setTimeout((function(){vn("home")}),1500);case 30:return t.abrupt("break",31);case 31:case"end":return t.stop()}}),t,null,[[15,22]])})))).apply(this,arguments)}function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function br(){br=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==wr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wr(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Er(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function xr(){return kr.apply(this,arguments)}function kr(){var t;return t=br().mark((function t(){var e,r,n;return br().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=document.getElementById("logo-link"))&&e.addEventListener("click",(function(t){t.preventDefault(),vn("home")})),(r=document.getElementById("kakao-login-btn"))&&r.addEventListener("click",(function(){console.log("Attempting Kakao login"),Kakao.Auth.authorize({redirectUri:"https://allsuri.netlify.app/oauth/callback"})})),(n=document.getElementById("back-btn"))&&n.addEventListener("click",(function(){return vn("home")}));case 6:case"end":return t.stop()}}),t)})),kr=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Er(i,n,o,a,c,"next",t)}function c(t){Er(i,n,o,a,c,"throw",t)}a(void 0)}))},kr.apply(this,arguments)}function Lr(t){return Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(t)}function Sr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(r),!0).forEach((function(e){Or(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Or(t,e,r){return(e=function(t){var e=function(t){if("object"!=Lr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ir(){Ir=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Lr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Lr(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function jr(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Tr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jr(i,n,o,a,c,"next",t)}function c(t){jr(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Pr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=Tr(Ir().mark((function t(){var e,r,n,o,i,a;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=new URLSearchParams(window.location.search),!(r=e.get("code"))){t.next=51;break}return t.prev=3,console.log("Sending code to backend:",r),t.next=7,ur();case 7:return(n=t.sent)||console.warn("Unable to obtain device token. Proceeding with login without it."),t.next=11,fetch("https://69qcfumvgb.execute-api.ap-southeast-2.amazonaws.com/KakaoLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r,deviceToken:n})});case 11:return o=t.sent,t.next=14,o.json();case 14:if(i=t.sent,console.log("Response from backend:",i),!o.ok){t.next=38;break}if(console.log("Login successful:",i),i.user&&(localStorage.setItem("user",JSON.stringify(i.user)),console.log("User:",i.user)),!i.tokens){t.next=34;break}return localStorage.setItem("tokens",JSON.stringify(i.tokens)),console.log("Tokens:",i.tokens),Kakao.Auth.setAccessToken(i.tokens.access_token),t.prev=23,t.next=26,Kakao.Auth.getStatusInfo();case 26:"connected"===(a=t.sent).status?console.log("Kakao login verified, token:",Kakao.Auth.getAccessToken()):console.log("Kakao login not verified, status:",a.status),t.next=34;break;case 30:t.prev=30,t.t0=t.catch(23),console.error("Error verifying Kakao token:",t.t0),Kakao.Auth.setAccessToken(null);case 34:return t.next=36,vn("home");case 36:t.next=41;break;case 38:return console.error("Login failed:",i),t.next=41,vn("login");case 41:window.history.pushState(null,"","/"),t.next=49;break;case 44:return t.prev=44,t.t1=t.catch(3),console.error("Error during login:",t.t1),t.next=49,vn("login");case 49:t.next=54;break;case 51:return console.error("No authorization code found in URL"),t.next=54,vn("login");case 54:case"end":return t.stop()}}),t,null,[[3,44],[23,30]])})))).apply(this,arguments)}function Nr(){return Dr.apply(this,arguments)}function Dr(){return(Dr=Tr(Ir().mark((function t(){var e,r,n,o,i,a;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=JSON.parse(localStorage.getItem("tokens")))&&e.refresh_token){t.next=3;break}throw new Error("No refresh token available");case 3:return t.prev=3,t.next=6,fetch("https://69qcfumvgb.execute-api.ap-southeast-2.amazonaws.com/KakaoTokenRefresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e.refresh_token})});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Failed to refresh token");case 9:return t.next=11,r.json();case 11:return n=t.sent,console.log("Token refresh result:",n),o=n.tokens,i=_r(_r({},e),o),localStorage.setItem("tokens",JSON.stringify(i)),(a=JSON.parse(localStorage.getItem("user"))).access_token=o.access_token,o.refresh_token&&(a.refresh_token=o.refresh_token),a.token_expires_at=new Date(Date.now()+1e3*o.expires_in).toISOString(),o.id_token&&(a.id_token=o.id_token),localStorage.setItem("user",JSON.stringify(a)),t.abrupt("return",o.access_token);case 25:t.prev=25,t.t0=t.catch(3),console.error("Error refreshing token:",t.t0),window.location.href="/login";case 29:case"end":return t.stop()}}),t,null,[[3,25]])})))).apply(this,arguments)}function Ar(){return Br.apply(this,arguments)}function Br(){return(Br=Tr(Ir().mark((function t(){var e;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Fr()){t.next=9;break}return console.log("Access token is expired. Refreshing..."),t.next=4,Nr();case 4:return e=t.sent,r=void 0,!(!(r=JSON.parse(localStorage.getItem("tokens")))||!r.refresh_token_expires_in)&&new Date(1e3*r.refresh_token_expires_in+Date.now())<new Date(Date.now()+2592e6)&&console.log("Refresh token is nearing expiration. User should re-authenticate soon."),t.abrupt("return",e);case 9:return t.abrupt("return",JSON.parse(localStorage.getItem("tokens")).access_token);case 10:case"end":return t.stop()}var r}),t)})))).apply(this,arguments)}function Fr(){var t=JSON.parse(localStorage.getItem("tokens")),e=JSON.parse(localStorage.getItem("user"));if(!t||!e)return!0;var r=new Date(e.token_expires_at);return(new Date).getTime()>r.getTime()}function Mr(t){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(t)}function Gr(){Gr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Mr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Mr(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Rr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(r),!0).forEach((function(e){$r(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $r(t,e,r){return(e=function(t){var e=function(t){if("object"!=Mr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mr(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kr(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Vr(t){return zr.apply(this,arguments)}function zr(){return t=Gr().mark((function t(e){var r,n,o,i,a=arguments;return Gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},console.log("MakeAuthenticatedRequest called with URL:",e),t.next=4,Ar();case 4:return n=t.sent,console.log("Access token obtained:",n),(o=new Headers(r.headers||{})).set("Authorization","Bearer ".concat(n)),console.log("Full Authorization header:",o.get("Authorization")),t.prev=9,t.next=12,fetch(e,Hr(Hr({},r),{},{headers:o}));case 12:return i=t.sent,console.log("Response status:",i.status),console.log("Response headers:",Object.fromEntries(i.headers.entries())),t.abrupt("return",i);case 18:throw t.prev=18,t.t0=t.catch(9),console.error("Error in MakeAuthenticatedRequest:",t.t0),t.t0;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})),zr=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Kr(i,n,o,a,c,"next",t)}function c(t){Kr(i,n,o,a,c,"throw",t)}a(void 0)}))},zr.apply(this,arguments);var t}Dt(new S("messaging",(t=>{const e=new Ze(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(t=>tr(e,t))),e}),"PUBLIC")),Dt(new S("messaging-internal",(t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>Xe(e,t)}}),"PRIVATE")),Gt(er,rr),Gt(er,rr,"esm2017");var Ur=[{id:1,name:"서울"},{id:2,name:"인천"},{id:3,name:"경기"},{id:4,name:"부산"},{id:5,name:"대구"},{id:6,name:"광주"},{id:7,name:"대전"},{id:8,name:"울산"},{id:9,name:"세종"},{id:10,name:"강원"},{id:11,name:"충북"},{id:12,name:"충남"},{id:13,name:"전북"},{id:14,name:"전남"},{id:15,name:"경북"},{id:16,name:"경남"},{id:17,name:"제주"}],qr={1:["강남구","강동구","강북구","강서구","관악구","광진구","구로구","금천구","노원구","도봉구","동대문구","동작구","마포구","서대문구","서초구","성동구","성북구","송파구","양천구","영등포구","용산구","은평구","종로구","중구","중랑구"],2:["강화군","계양구","남동구","중구","동구","미추홀구","부평구","서구","연수구","옹진군"],3:["가평군","고양시","과천시","광명시","광주시","구리시","군포시","김포시","남양주시","동두천시","부천시","성남시","수원시","시흥시","안산시","안성시","안양시","양주시","양평군","여주시","연천군","오산시","용인시","의왕시","의정부시","이천시","파주시","평택시","포천시","하남시","화성시"],4:["강서구","금정구","기장군","남구","동구","동래구","부산진구","북구","사상구","사하구","서구","수영구","연제구","영도구","중구","해운대구"],5:["남구","달서구","달성군","동구","북구","서구","수성구","중구","군위군"],6:["광산구","남구","동구","북구","서구"],7:["동구","중구","서구","유성구","대덕구"],8:["남구","동구","북구","울주군","중구"],9:[],10:["강릉시","고성군","동해시","삼척시","속초시","양구군","양양군","영월군","원주시","인제군","정선군","철원군","춘천시","태백시","평창군","홍천군","화천군","횡성군"],11:["제천시","청주시","충주시","진천군","음성군","단양군","증평군","괴산군","옥천군","영동군","보은군"],12:["천안시","공주시","보령시","아산시","서산시","논산시","계룡시","당진시","금산군","부여군","서천군","청양군","홍성군","예산군","태안군"],13:["전주시","군산시","익산시","정읍시","남원시","김제시","완주군","진안군","무주군","장수군","임실군","순창군","고창군","부안군"],14:["목포시","여수시","순천시","나주시","광양시","담양군","곡성군","구례군","고흥군","보성군","화순군","장흥군","강진군","해남군","영암군","무안군","함평군","영광군","장성군","완도군","진도군","신안군"],15:["경산시","경주시","고령군","구미시","김천시","문경시","봉화군","상주시","성주군","안동시","영덕군","영양군","영주시","영천시","예천군","울릉군","울진군","의성군","청도군","청송군","칠곡군","포항시"],16:["거제시","거창군","고성군","김해시","남해군","밀양시","사천시","산청군","양산시","의령군","진주시","창녕군","창원시","통영시","하동군","함안군","함양군","합천군"],17:["서귀포시","제주시"]};function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Jr(){Jr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Wr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Wr(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Yr(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Qr(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Yr(i,n,o,a,c,"next",t)}function c(t){Yr(i,n,o,a,c,"throw",t)}a(void 0)}))}}var Zr={region:"",city:"",status:""},Xr="created_at";function tn(){return en.apply(this,arguments)}function en(){return(en=Qr(Jr().mark((function t(){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Setting up home page"),rn(),cn(),t.next=5,nn(1);case 5:console.log("Home page setup complete");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rn(){var t=document.getElementById("logo-link");t&&t.addEventListener("click",(function(t){t.preventDefault(),vn("home")}));var e=document.getElementById("chat-btn");e&&e.addEventListener("click",(function(){return vn("chat")}));var r=document.getElementById("post-order-btn");r&&r.addEventListener("click",Qr(Jr().mark((function t(){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vn("post-order");case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Error loading post order page:",t.t0),a("오더 등록 중에 오류가 발생했습니다. 다시 시도해주세요.");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,null,[[0,5,9,11]])})))),document.querySelectorAll(".dropdown-item").forEach((function(t){t.addEventListener("click",ln)}));var n=document.getElementById("refresh-btn");n&&n.addEventListener("click",sn);var o=document.getElementById("pagination-container");o&&o.addEventListener("click",function(){var t=Qr(Jr().mark((function t(e){var r;return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("A"!==e.target.tagName||!e.target.getAttribute("data-page")){t.next=5;break}return e.preventDefault(),r=parseInt(e.target.getAttribute("data-page")),t.next=5,nn(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function nn(){return on.apply(this,arguments)}function on(){return on=Qr(Jr().mark((function t(){var e,r,n,o,i,c=arguments;return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t.prev=1,t.next=4,Vr("https://69qcfumvgb.execute-api.ap-southeast-2.amazonaws.com/GetOrders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:e,limit:10,action:"get_orders",filters:Zr,sort:Xr||"created_at"})});case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Failed to fetch order posts");case 7:return t.next=9,r.json();case 9:n=t.sent,o=n.orders,i=n.totalPages||1,an(o),fn(e,i),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error fetching order posts:",t.t0),a("오더를 불러오는 중 오류가 발생했습니다. 다시 시도해주세요.");case 20:case"end":return t.stop()}}),t,null,[[1,16]])}))),on.apply(this,arguments)}function an(t){var e=document.getElementById("order-posts-container");if(e){e.innerHTML="";var r=document.getElementById("order-card-template");if(r){var n=JSON.parse(localStorage.getItem("user"));t.forEach((function(t){var o=r.content.cloneNode(!0),i=function(t,e,r){var n=t.querySelector(e);n?n.textContent=r:console.warn('Element with selector "'.concat(e,'" not found in order card'))};try{i(o,".card-title",t.title||"No Title"),i(o,".card-subtitle",t.location||"No Location"),i(o,".order-meta","지원자 ".concat(t.applicants_count||0,"명 • ").concat(u(t.created_at)));var a=o.querySelector(".order-status");a&&(a.textContent="open"===t.status?"지원가능":"마감",a.classList.add("open"===t.status?"bg-success":"bg-danger"));var c=o.querySelector(".order-fee");c&&(-1===t.fee?c.textContent="수수료 조정 가능":c.textContent="수수료 ".concat(Number(t.fee||0).toLocaleString(),"%"));var s=o.querySelector(".order-card");s&&s.addEventListener("click",(function(){return function(t,e){t.order_id;var r=document.getElementById("orderDetailsModalLabel"),n=document.getElementById("orderDetailsModalBody"),o=document.getElementById("applyForOrderBtn");r.textContent=t.title||"Order Details",n.innerHTML='\n        <div class="row">\n            <div class="col-md-6">\n                <h6 class="fw-bold mb-3">오더 정보</h6>\n                <p><strong>위치:</strong> '.concat(t.location||"No Location",'</p>\n                <p><strong>상태:</strong> <span class="badge ').concat("open"===t.status?"bg-success":"bg-danger",'">').concat("open"===t.status?"지원가능":"마감","</span></p>\n                <p><strong>수수료:</strong> ").concat(-1===t.fee?"수수료 조정 가능":"".concat(Number(t.fee||0).toLocaleString(),"%"),"</p>\n                <p><strong>지원자:</strong> ").concat(t.applicants_count||0,"명</p>\n                <p><strong>등록일:</strong> ").concat(u(t.created_at),'</p>\n            </div>\n        </div>\n        <hr>\n        <h6 class="fw-bold mb-3">오더 내용</h6>\n        <p>').concat(t.description||"상세 설명 없음","</p>\n    "),t.user_id===e.user_id?o.style.display="none":(o.style.display="block",o.disabled="open"!==t.status,o.onclick=Qr(Jr().mark((function e(){return Jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bootstrap.Modal.getInstance(document.getElementById("orderDetailsModal")).hide(),InitializeApplicationForm(t.order_id),e.next=5,vn("apply-for-order");case 5:case"end":return e.stop()}}),e)})))),new bootstrap.Modal(document.getElementById("orderDetailsModal")).show()}(t,n)}));var l=o.querySelector(".my-order-badge");l&&t.user_id===n.user_id&&(l.style.display="inline-block"),e.appendChild(o)}catch(t){console.error("Error populating order card:",t)}}))}else console.error("Order card template not found")}else console.error("Order posts container not found")}function cn(){var t,e=document.getElementById("region-filter"),r=document.getElementById("city-filter"),n=document.getElementById("status-filter"),o=document.getElementById("sort-option");t=e,Ur.forEach((function(e){var r=document.createElement("option");r.value=e.name,r.textContent=e.name,t.appendChild(r)})),e.addEventListener("change",function(){var t=Qr(Jr().mark((function t(e){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Zr.region=e.target.value,Zr.city="",pn(r,e.target.value),t.next=5,nn(1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.addEventListener("change",function(){var t=Qr(Jr().mark((function t(e){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Zr.city=e.target.value,t.next=3,nn(1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("change",function(){var t=Qr(Jr().mark((function t(e){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Zr.status=e.target.value,t.next=3,nn(1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.addEventListener("change",function(){var t=Qr(Jr().mark((function t(e){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Xr=e.target.value,t.next=3,nn(1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function sn(){return un.apply(this,arguments)}function un(){return(un=Qr(Jr().mark((function t(){return Jr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nn(1);case 3:c("오더 목록이 새로고침되었습니다.",3e3),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error refreshing order posts:",t.t0),a("오더 목록 새로고침 중 오류가 발생했습니다. 다시 시도해주세요.");case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,6,10,12]])})))).apply(this,arguments)}function ln(t){t.preventDefault();var e=t.target.getAttribute("href"),r=document.querySelector("#settings-btn"),n=bootstrap.Dropdown.getInstance(r);n&&n.hide();try{switch(e){case"#profile":vn("my-profile");break;case"#my-orders":vn("my-orders");break;case"#my-applications":vn("my-applications")}}catch(t){console.error("Error handling dropdown item click:",t),a("오류가 발생했습니다. 다시 시도해주세요.")}}function fn(t,e){var r=document.getElementById("pagination-container");if(r){r.innerHTML="",r.appendChild(hn("이전",t>1,t-1));for(var n=1;n<=e;n++)r.appendChild(hn(n.toString(),!0,n,n===t));r.appendChild(hn("다음",t<e,t+1))}}function hn(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=document.createElement("li");o.className="page-item ".concat(n?"active":""," ").concat(e?"":"disabled");var i=document.createElement("a");return i.className="page-link",i.href="#",i.textContent=t,i.setAttribute("data-page",r),o.appendChild(i),o}function pn(t,e){var r;t.innerHTML='<option value="">도시 선택</option>';var n=null===(r=Ur.find((function(t){return t.name===e})))||void 0===r?void 0:r.id;n&&qr[n]&&qr[n].forEach((function(e){var r=document.createElement("option");r.value=e,r.textContent=e,t.appendChild(r)}))}function dn(t){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(t)}function yn(){yn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==dn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(dn(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function gn(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function vn(t){return mn.apply(this,arguments)}function mn(){var t;return t=yn().mark((function t(e){var r,n,i,c,s=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:{},t.prev=1,"my-profile"!==e){t.next=16;break}return t.next=5,FetchUserProfile();case 5:if(n=t.sent){t.next=8;break}throw new Error("Failed to fetch user profile");case 8:return t.next=10,fetch("/contents/".concat(e,".html")).then((function(t){return t.text()}));case 10:i=t.sent,document.body.innerHTML=i,SetupMyProfileEventListeners(),UpdateProfileUI(n),t.next=57;break;case 16:return t.next=18,fetch("/contents/".concat(e,".html")).then((function(t){return t.text()}));case 18:c=t.sent,document.body.innerHTML=c,t.t0=e,t.next="landing"===t.t0?23:"notification"===t.t0?26:"login"===t.t0?29:"home"===t.t0?32:"edit-profile"===t.t0?35:"post-order"===t.t0?38:"apply-for-order"===t.t0?41:"my-orders"===t.t0?44:"order-applications"===t.t0?47:"my-applications"===t.t0?50:"chat"===t.t0?53:56;break;case 23:return t.next=25,o();case 25:return t.abrupt("break",57);case 26:return t.next=28,vr();case 28:return t.abrupt("break",57);case 29:return t.next=31,xr();case 31:return t.abrupt("break",57);case 32:return t.next=34,tn();case 34:return t.abrupt("break",57);case 35:return t.next=37,SetupEditProfilePage();case 37:return t.abrupt("break",57);case 38:return t.next=40,SetupPostOrderPage();case 40:return t.abrupt("break",57);case 41:return t.next=43,SetupApplyForOrderPage();case 43:return t.abrupt("break",57);case 44:return t.next=46,SetupMyOrdersPage();case 46:return t.abrupt("break",57);case 47:return t.next=49,SetupOrderApplicationsPage(r);case 49:return t.abrupt("break",57);case 50:return t.next=52,SetupMyApplicationsPage();case 52:return t.abrupt("break",57);case 53:return t.next=55,SetupChatPage();case 55:return t.abrupt("break",57);case 56:console.error("Unknown content name: ".concat(e));case 57:t.next=63;break;case 59:t.prev=59,t.t1=t.catch(1),console.error("Error loading ".concat(e,":"),t.t1),a("".concat(e," 페이지 로딩 중 오류가 발생했습니다. 다시 시도해주세요."));case 63:case"end":return t.stop()}}),t,null,[[1,59]])})),mn=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){gn(i,n,o,a,c,"next",t)}function c(t){gn(i,n,o,a,c,"throw",t)}a(void 0)}))},mn.apply(this,arguments)}function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function bn(){bn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",g={};function v(){}function m(){}function w(){}var b={};u(b,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,c){var s=f(t[o],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==wn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var s=O(c,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(wn(e)+" is not iterable")}return m.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:m,configurable:!0}),m.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function En(t,e,r,n,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function xn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){En(i,n,o,a,c,"next",t)}function c(t){En(i,n,o,a,c,"throw",t)}a(void 0)}))}}document.addEventListener("DOMContentLoaded",xn(bn().mark((function t(){var e;return bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.matchMedia("(display-mode: standalone)").matches){t.next=19;break}if(window.Kakao.init("8cdce0e36a3774e9d3d2a738f2d5192f"),"/oauth/callback"!==window.location.pathname){t.next=6;break}return t.next=5,Pr();case 5:case 10:case 14:return t.abrupt("return");case 6:if(e=localStorage.getItem("DeviceToken"),"granted"===Notification.permission&&e){t.next=11;break}return t.next=10,vn("notification");case 11:if(localStorage.getItem("user")&&localStorage.getItem("tokens")){t.next=15;break}return t.next=14,vn("login");case 15:return t.next=17,vn("home");case 17:t.next=24;break;case 19:if(!(navigator.userAgent.toLowerCase().indexOf("kakao")>=0)){t.next=22;break}return location.href="kakaotalk://web/openExternal?url="+encodeURIComponent(location.href),t.abrupt("return");case 22:return t.next=24,vn("landing");case 24:case"end":return t.stop()}}),t)}))))})();